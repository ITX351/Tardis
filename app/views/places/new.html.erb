<%= stylesheet_link_tag    "main.css", :media => "all" %>
<br/><br/><br/>

<%= form_for(@place) do |f| %>
    <div class="field">
        <%= f.label :name %><br />
        <%= f.text_field :name, placeholder: "Input name of place"%>
    </div>
    
    <button class = "btn btn-primary btn-lg" data-toggle = "modal" data-target = "#myModal">Set Position</button>

    <div class="field">
        <%= f.label :location %><br />
        <div class = "col-md-6">
            <%= f.text_field :locationx, placeholder: "location-x" %>
        </div>
        <div class = "col-md-6">
            <%= f.text_field :locationy, placeholder: "location-y" %>
        </div>
    </div>
    <div class="field">
        <%= f.label :intro %><br />
        <%= f.text_area :intro, rows: 8, placeholder: "Input some brief descriptions..." %>
    </div>
    <div class = "field">
        <%= f.file_field :avatar %>
        <%= f.hidden_field :avatar_cache %>
    </div>
    <div class="actions ">
      <%= f.submit "New Place", class: "actions special"%>
    </div>

<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" 
   aria-labelledby="myModalLabel" aria-hidden="true" style="width:800px">
   <div class="modal-dialog">

        <div id="container" class = "col-md-12"
                style="width: 600px; 
                    height: 600px; 
                    border: 1px solid gray;
                    overflow:hidden;">
        </div>
        <%= javascript_include_tag "map.js" %>
        <script> map.centerAndZoom(schoolcenter,17);</script>
        
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" 
               data-dismiss="modal">OK
            </button>
        </div>
    </div>
</div><!-- /.modal -->

<% end %>



